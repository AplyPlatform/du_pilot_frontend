<!DOCTYPE html>
<html lang="ko">
<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
	<script async src="https://www.googletagmanager.com/gtag/js?id=G-L3GM3G16DL"></script>
	<script>
	  window.dataLayer = window.dataLayer || [];
	  function gtag(){dataLayer.push(arguments);}
	  gtag('js', new Date());
	
	  gtag('config', 'G-L3GM3G16DL');
	</script>

  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="DUNI PILOT CENTER">
  <meta name="author" content="APLY Inc.">
	<link rel="shortcut icon" type="image/x-icon" href="https://pilot.duni.io/logo.png" />
  <link rel="icon" type="image/png" href="https://pilot.duni.io/logo.png" />
  <link rel="apple-touch-icon" href="https://pilot.duni.io/logo.png" />

  <title>DUNI PILOT 센터</title>

  <!-- Custom fonts for this template-->
  <link href="vendor/fontawesome-free/css/all.min.css" rel="stylesheet" type="text/css">
  <link href="https://fonts.googleapis.com/css?family=Nunito:200,200i,300,300i,400,400i,600,600i,700,700i,800,800i,900,900i" rel="stylesheet">

  <!-- Custom styles for this template-->
  <link href="css/sb-admin-2.min.css" rel="stylesheet">

	<link href="css/jquery-ui.min.css" rel="stylesheet">
	<link href="css/style.css" rel="stylesheet">
	<link href="css/ol.css" rel="stylesheet">
</head>

<body id="page-top">
<div id="loading">
	<div class="loader"></div>
</div>
  <!-- Page Wrapper -->
  <div id="wrapper">

    <!-- Sidebar -->
    <ul class="navbar-nav bg-gradient-primary sidebar sidebar-dark accordion" id="accordionSidebar">

      <!-- Sidebar - Brand -->
      <a class="sidebar-brand d-flex align-items-center justify-content-center" href="index.html">
        <div class="sidebar-brand-icon rotate-n-15">
          <img src=imgs/logo_white.png width=32 height=32>
        </div>
        <div class="sidebar-brand-text mx-3">DUNI PILOT Center<sup>beta</sup></div>
      </a>

      <!-- Divider -->
      <hr class="sidebar-divider my-0">

      <!-- Nav Item - Dashboard -->
      <li class="nav-item">
        <a class="nav-link" href="center.html">
          <i class="fas fa-fw fa-globe"></i>
          <span>Dashboard</span></a>
      </li>

      <!-- Divider -->
      <hr class="sidebar-divider">

      <!-- Nav Item - Pages Collapse Menu -->
      <li class="nav-item">
        <a class="nav-link collapsed" href="#" data-toggle="collapse" data-target="#collapseTwo" aria-expanded="true" aria-controls="collapseTwo">
          <i class="fas fa-fw fa-map-marked-alt"></i>
          <span>비행계획</span>
        </a>
        <div id="collapseTwo" class="collapse" aria-labelledby="headingTwo" data-parent="#accordionSidebar">
          <div class="bg-white py-2 collapse-inner rounded">
          	<a class="collapse-item" href="design.html">계획 설계</a>
            <a class="collapse-item" href="list.html">계획 목록</a>
            <a class="collapse-item" href="monitor.html">계획 모니터링</a>
          </div>
        </div>
      </li>

      <!-- Nav Item - Utilities Collapse Menu -->
      <li class="nav-item active">
        <a class="nav-link collapsed" href="#" data-toggle="collapse" data-target="#collapseUtilities" aria-expanded="true" aria-controls="collapseUtilities">
          <i class="fas fa-fw fa-history"></i>
          <span>비행기록</span>
        </a>
        <div id="collapseUtilities" class="collapse" aria-labelledby="headingUtilities" data-parent="#accordionSidebar">
          <div class="bg-white py-2 collapse-inner rounded">
            <a class="collapse-item" href="flight_list.html">기록 업로드</a>
            <a class="collapse-item" href="flight_view.html">기록 보기</a>
          </div>
        </div>
      </li>

      <!-- Divider -->
      <hr class="sidebar-divider">

			<!-- Nav Item - Utilities Collapse Menu -->
			<li class="nav-item">
        <a class="nav-link" href="qa.html">
          <i class="fas fa-fw fa-globe"></i>
          <span>문의하기</span></a>
      </li>

			<!-- Divider -->
      <hr class="sidebar-divider">

      <!-- Nav Item - Utilities Collapse Menu -->
      <li class="nav-item">
        <a class="nav-link collapsed" href="#" data-toggle="collapse" data-target="#collapseEtc" aria-expanded="true" aria-controls="collapseEtc">
          <i class="fas fa-fw fa-satellite"></i>
          <span>관련사이트</span>
        </a>
        <div id="collapseEtc" class="collapse" aria-labelledby="headingUtilities" data-parent="#accordionSidebar">
          <div class="bg-white py-2 collapse-inner rounded">
            <a class="collapse-item" href="https://www.facebook.com/groups/dunipilot">커뮤니티</a>
            <a class="collapse-item" href="https://blog.duni.io">블로그</a>
            <a class="collapse-item" href="https://developer.duni.io/apis/index.html">Open APIs</a>
            <a class="collapse-item" href="https://developer.duni.io">개발자 페이지</a>
          </div>
        </div>
      </li>

      <!-- Divider -->
      <hr class="sidebar-divider d-none d-md-block">

      <!-- Sidebar Toggler (Sidebar) -->
      <div class="text-center d-none d-md-inline">
        <button class="rounded-circle border-0" id="sidebarToggle"></button>
      </div>

      <!-- Nav Item - Tables -->
      <li class="sidebar-heading">
        © 2020 APLY Inc.
      </li>

    </ul>
    <!-- End of Sidebar -->

    <!-- Content Wrapper -->
    <div id="content-wrapper" class="d-flex flex-column">

      <!-- Main Content -->
      <div id="content">

        <!-- Topbar -->
        <nav class="navbar navbar-expand navbar-light bg-white topbar mb-4 static-top shadow">

          <!-- Sidebar Toggle (Topbar) -->
          <button id="sidebarToggleTop" class="btn btn-link d-md-none rounded-circle mr-3">
            <i class="fa fa-bars"></i>
          </button>

          <!-- Page Heading -->
          <div class="d-none d-sm-inline-block form-inline mr-auto ml-md-3 my-2 my-md-0 mw-100 navbar-search">
            <h1 class="h5 mb-0 text-gray-800">비행기록 보기</h1>
          </div>


          <!-- Topbar Navbar -->
          <ul class="navbar-nav ml-auto">

            <div class="topbar-divider d-none d-sm-block"></div>

            <!-- Nav Item - User Information -->
            <li class="nav-item dropdown no-arrow">
              <a class="nav-link dropdown-toggle" href="#" id="userDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                <i class="fas fa-user fa-sm fa-fw mr-2 text-gray-400"></i>
              </a>
              <!-- Dropdown - User Information -->
              <div class="dropdown-menu dropdown-menu-right shadow animated--grow-in" aria-labelledby="userDropdown">
                <a class="dropdown-item" href="#">
                  <i class="fas fa-user fa-sm fa-fw mr-2 text-gray-400"></i>
                  <span id=email_field></span>
                </a>
                <a class="dropdown-item" href="#">
                  <i class="fas fa-cogs fa-sm fa-fw mr-2 text-gray-400"></i>
                  Token <input name="droneplaytoken_view" id="droneplaytoken_view" type="text" class="form-control bg-light border-0 small" value="">
                </a>
                <div class="dropdown-divider"></div>
                <a class="dropdown-item" href="javascript:logOut();">
                  <i class="fas fa-sign-out-alt fa-sm fa-fw mr-2 text-gray-400"></i>
                  Logout
                </a>
              </div>
            </li>

          </ul>

        </nav>
        <!-- End of Topbar -->

        <!-- Begin Page Content -->
        <div class="container-fluid">

					<!-- Page Heading -->
          <div class="d-sm-flex align-items-center justify-content-between mb-4">
            <a href="#" class="d-none d-sm-inline-block btn btn-sm btn-primary shadow-sm" id="record_name_field">-</a>
          </div>

          <!-- Content Row -->

          <div class="row" id="historyPanel">
						 <div class="col-xl-6 col-md-6 mb-4">
	              <div class="card shadow py-2">
	                <div class="card-body h-400">
	                	<div id="youTubePlayer"></div>	                	
	                </div>
	                
	                <div class="card-body">
	               		<a onClick='showMovieDataSet()' id="modifyBtnForMovieData" class="text-xs font-weight-bold text-primary text-uppercase mb-1">영상정보 수정</a>	               		
	               		
	               		<label for="lineGraph" class="text-xs font-weight-bold text-default text-uppercase mb-1">비행 고도 기록</label>
										<canvas id="lineGraph" name="lineGraph"></canvas>
									</div>	
	                	                
	               	<div class="card-body" id="movieDataSet">
	               		
		                	<div>
								        <img id="channel-thumbnail" width="50">
								        <span id="channel-name" class="text-xs font-weight-bold text-default text-uppercase mb-1"></span>
								      </div>
								
								      <div>
								        <label for="title" class="text-xs font-weight-bold text-default text-uppercase mb-1">영상 제목</label>
								        <input id="movieTitle" class="form-control" type="text" value="비행기록 1">
								      </div>
								      <div>
								        <label for="description" class="text-xs font-weight-bold text-default text-uppercase mb-1">영상 설명</label>
								        <textarea class="form-control" id="movieDescription">비행기록 1</textarea>
								      </div>
								      <div>
								        <label for="privacy-status" class="text-xs font-weight-bold text-default text-uppercase mb-1">영상 공개수준</label>
								        <select id="privacy-status" class="form-control">
								          <option>공개</option>
								          <option>일부공개(링크가 있는 사용자만 영상을 볼수 있음)</option>
								          <option>비공개</option>
								        </select>
								      </div>
								
								      <div class="input-group">
								        <input type="file" class="form-control-file form-control bg-light border-0 small" id="movieFile" accept="video/*">
								        <button id="movieButton" class="btn btn-primary" type="button">유튜브에 영상 업로드</button>
								      </div>
								      
								      <div class="during-upload">
								        <p class="text-xs font-weight-bold text-default text-uppercase mb-1"><span id="percent-transferred" class="text-xs font-weight-bold text-default text-uppercase mb-1"></span>% done (<span id="bytes-transferred" class="text-xs font-weight-bold text-default text-uppercase mb-1"></span>/<span id="total-bytes" class="text-xs font-weight-bold text-default text-uppercase mb-1"></span> bytes)</p>
								        <progress id="upload-progress" max="1" value="0"></progress>
								      </div>
								
								      <div class="post-upload">										        
								        <ul id="post-upload-status"></ul>
								        <div id="player"></div>
								      </div>
								      <p id="disclaimer" class="text-xs font-weight-bold text-default text-uppercase mb-1">By uploading a video, you certify that you own all rights to the content or that you are authorized by the owner to make the content publicly available on YouTube, and that it otherwise complies with the YouTube Terms of Service located at <a href="http://www.youtube.com/t/terms" target="_blank">http://www.youtube.com/t/terms</a></p>
								
	               			
	                    <label for="movieData" class="text-xs font-weight-bold text-default text-uppercase mb-1">업로드 한 유튜브 영상 주소 설정</label>
	                    <div class="input-group">
	                          <input type="text" class="form-control" placeholder="YOUTUBE 전체 URL" id="movieData">
	                          <span class="input-group-append">
	                            <button class='btn btn-primary' type='button' onClick='btnSetMovie()'>설정</button>
	                          </span>
	                    </div>
                    
	               	</div>
	               	
	               									
	              </div>
             </div>

             <!-- List -->
            <div class="col-lg-6 mb-4">
              <div class="card shadow mb-4">
              				<div class="card-body h-400">
							            <div id="map" class="map"></div>							                
											</div>											
											<div class="card-body">
													<span id="map_address" class="text-xs font-weight-bold text-primary text-uppercase mb-1"></span>													
													<div id="slider" class="bg-light border-0 small"></div><span class="badge badge-light" id="sliderText">0</span>																                  	
											</div>
											<div class="card-body">												
													<div class="row no-gutters align-items-center">													
															<div class="col mr-2">													
					                      <div class="text-xs font-weight-bold text-default text-uppercase mb-1">지도 종류</div>
					                      <div class="h5 mb-0 font-weight-bold text-gray-800">
					                      		<select id="layer-select" name="layer-select" class="form-control bg-light border-0 small">
																						       <option value="Aerial">Aerial</option>
																						       <option value="AerialWithLabels" selected>Aerial with labels</option>
																						       <option value="Road">Road</option>
																		</select>
																</div>
					                    </div>
					                    <div class="col mr-2">
					                      <table width="100%" class="table table-condensed">
				                                <thead>
				                                    <tr>
				                                        <th class="text-xs font-weight-bold text-default text-uppercase mb-1">Roll <span id="rollText"></span></th>
				                                        <th class="text-xs font-weight-bold text-default text-uppercase mb-1">Yaw <span id="yawText"></span></th>
				                                        <th class="text-xs font-weight-bold text-default text-uppercase mb-1">Pitch <span id="pitchText"></span></th>
				                                    </tr>
				                                </thead>
				                                <tbody>
				                                		<tr>
				                                			<td><canvas id="rollCanvas" width="60" height="60"></canvas></td>
				                                			<td><img src="imgs/yaw.png" id="yawStatus" width="40" height="40"></td>
				                                			<td><img src="imgs/pitch.png" id="pitchStatus" width="40" height="40"></td>
				                                		</tr>	                                		
				                                </tbody>
																	</table>
					                    </div>
					                </div>					              		                    																											
											</div>
											
											<div class="card-body">
												<form>
              							<div class='form-group'>
              								<label for="memoTextarea" class="text-xs font-weight-bold text-default text-uppercase mb-1">메모 입력</label>
              								<textarea class='form-control' id='memoTextarea' name='memoTextarea' rows='3'></textarea>
              								<br>
              								<button class='btn btn-primary' type='button' id="flightMemoBtn">메모수정</button>
              							</div>
												</form>	
												<br>
												<span id="position_info"> ... </span>
			                  <span id="monitor"></span>
											</div>
			        </div>
			      </div>
					</div>

					<div class="row" id="historyList">
            <!-- List -->
            <div class="col-lg-6 mb-4">
              <div class="card shadow mb-4">
			              	<div class="card-body">
							                <table width="100%" class="table table-striped table-bordered table-hover" id="dataTable-Flight_list">
                                    <thead>
                                        <tr>
                                            <th>#</th>
                                            <th>이름</th>
                                            <th>등록일</th>
                                            <th>관리</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                    </tbody>
                                </table>
											</div>
											<div class="card-body">
			                  	<button id="getFlightListBtn" class="btn btn-primary" type="button" onClick="getFlightList()">
                                          비행기록 불러오기
													</button>
											</div>
              </div>
            </div>

            <div class="col-lg-6 mb-4">
              <div class="card shadow mb-4">
			              	<div class="card-body"  id="historyMap" style="height:400px;"></div>
              </div>
            </div>
          </div>

          <div class="row">
            <!-- List -->
            <div class="col-lg-6 mb-4">
              <div class="card shadow mb-4">
			              	<div class="card-body">
			              		<canvas id="chartArea"></canvas>
			              	</div>
			        </div>
			      </div>
			    </div>

        </div>
        <!-- /.container-fluid -->

      </div>
      <!-- End of Main Content -->

      <!-- Footer -->
      <footer class="sticky-footer bg-white">
        <div class="container my-auto">
          <div class="copyright text-center my-auto">
            <span>&copy; APLY Inc. 2020</span>
          </div>
        </div>
      </footer>
      <!-- End of Footer -->

    </div>
    <!-- End of Content Wrapper -->

  </div>
  <!-- End of Page Wrapper -->

  <!-- Scroll to Top Button-->
  <a class="scroll-to-top rounded" href="#page-top">
    <i class="fas fa-angle-up"></i>
  </a>
  
	<!-- Logout Modal-->
  <div class="modal fade" id="errorModal" tabindex="-1" role="dialog" aria-labelledby="errorModalLabel" aria-hidden="true">
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title">알림</h5>
        </div>
        <div class="modal-body" id="errorModalLabel"></div>
        <div class="modal-footer">
          <button class="btn btn-primary" type="button" data-dismiss="modal">확인</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Bootstrap core JavaScript-->
  <script src="vendor/jquery/jquery.min.js"></script>
  <script src="vendor/jquery/jquery-ui.min.js"></script>
  <script src="vendor/bootstrap/js/bootstrap.bundle.min.js"></script>

  <!-- Core plugin JavaScript-->
  <script src="vendor/jquery-easing/jquery.easing.min.js"></script>

  <!-- Custom scripts for all pages-->
  <script src="js/sb-admin-2.min.js"></script>
  <script src="./vendor/chart.js/Chart.min.js"></script>
  <script src="js/ol.js"></script>  
  <script id="page_data" page_action="flight_view" src="./js/center.js"></script>
  <script src="//apis.google.com/js/client:plusone.js"></script>    
  <script src="./js/cors_upload.js"></script>
  <script src="./js/upload_video.js"></script>
  <script src="./js/auth.js"></script>  
  <script type="text/javascript" src="//apis.google.com/js/client.js?onload=googleApiClientReady&key=AIzaSyC-uQDFbSHy6c0pDsBIwNUUgR7UrrPz1K0"></script>  
</body>

</html>
